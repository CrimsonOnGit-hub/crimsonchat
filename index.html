<!DOCTYPE html>
<html>
<head>
    <title>Photon Chat Sender</title>
    <!-- Load the Photon SDK from their CDN -->
    <script src="https://cdn.jsdelivr.net"></script>
</head>
<body>
    <h1>Photon Chat Bridge</h1>
    <input type="text" id="msg" placeholder="Type a message...">
    <button onclick="sendMessage()">Send to VR</button>

    <script>
        // 1. Setup the Chat Client
        const chatClient = new Photon.Chat.ChatClient(
            Photon.ConnectionProtocol.Wss, 
            "18ee95c7-0614-483c-86bb-669960d9fe87", // Get this from Photon Dashboard
            "1.0"
        );

        // 2. Connect to the server
        chatClient.connectToRegionMaster("US"); // Change to your region (EU, US, etc.)

        // 3. What happens when we connect?
        chatClient.onConnected = () => {
            console.log("Connected! Joining channel...");
            chatClient.subscribe(["GlobalChannel"]); // Must match your VR channel name
        };

        // 4. Send the message
        function sendMessage() {
            const text = document.getElementById('msg').value;
            if (text) {
                // 'PublishMessage' sends it to everyone in that channel
                chatClient.publishMessage("GlobalChannel", text);
                document.getElementById('msg').value = '';
                console.log("Sent: " + text);
            }
        }
    </script>
</body>
</html>
